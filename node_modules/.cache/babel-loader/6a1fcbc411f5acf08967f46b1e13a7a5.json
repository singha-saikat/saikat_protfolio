{"ast":null,"code":"import _slicedToArray from \"/Users/saikatsingha/Projects /My protfolio/saikat_protfolio-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/Users/saikatsingha/Projects /My protfolio/saikat_protfolio-1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { ListActionTypes } from './listActions.types';\nimport defaultReducer from './listReducer';\nimport useListChangeNotifiers from './useListChangeNotifiers';\nimport useControllableReducer from '../utils/useControllableReducer';\nimport areArraysEqual from '../utils/areArraysEqual';\nimport useLatest from '../utils/useLatest';\nimport useTextNavigation from '../utils/useTextNavigation';\nvar EMPTY_OBJECT = {};\n\nvar NOOP = function NOOP() {};\n\nvar defaultItemComparer = function defaultItemComparer(optionA, optionB) {\n  return optionA === optionB;\n};\n\nvar defaultIsItemDisabled = function defaultIsItemDisabled() {\n  return false;\n};\n\nvar defaultItemStringifier = function defaultItemStringifier(item) {\n  return typeof item === 'string' ? item : String(item);\n};\n\nvar defaultGetInitialState = function defaultGetInitialState() {\n  return {\n    highlightedValue: null,\n    selectedValues: []\n  };\n};\n/**\n * The useList is a lower-level utility that is used to build list-like components.\n * It's used to manage the state of the list and its items.\n *\n * Supports highlighting a single item and selecting an arbitrary number of items.\n *\n * The state of the list is managed by a controllable reducer - that is a reducer that can have its state\n * controlled from outside.\n *\n * By default, the state consists of `selectedValues` and `highlightedValue` but can be extended by the caller of the hook.\n * Also the actions that can be dispatched and the reducer function can be defined externally.\n *\n * @template ItemValue The type of the item values.\n * @template State The type of the list state. This should be a subtype of `ListState<ItemValue>`.\n * @template CustomAction The type of the actions that can be dispatched (besides the standard ListAction).\n * @template CustomActionContext The shape of additional properties that will be added to actions when dispatched.\n *\n * @ignore - internal hook.\n */\n\n\nfunction useList(params) {\n  var _params$controlledPro = params.controlledProps,\n      controlledProps = _params$controlledPro === void 0 ? EMPTY_OBJECT : _params$controlledPro,\n      _params$disabledItems = params.disabledItemsFocusable,\n      disabledItemsFocusable = _params$disabledItems === void 0 ? false : _params$disabledItems,\n      _params$disableListWr = params.disableListWrap,\n      disableListWrap = _params$disableListWr === void 0 ? false : _params$disableListWr,\n      _params$focusManageme = params.focusManagement,\n      focusManagement = _params$focusManageme === void 0 ? 'activeDescendant' : _params$focusManageme,\n      _params$getInitialSta = params.getInitialState,\n      getInitialState = _params$getInitialSta === void 0 ? defaultGetInitialState : _params$getInitialSta,\n      getItemDomElement = params.getItemDomElement,\n      getItemId = params.getItemId,\n      _params$isItemDisable = params.isItemDisabled,\n      isItemDisabled = _params$isItemDisable === void 0 ? defaultIsItemDisabled : _params$isItemDisable,\n      externalListRef = params.rootRef,\n      _params$onStateChange = params.onStateChange,\n      onStateChange = _params$onStateChange === void 0 ? NOOP : _params$onStateChange,\n      items = params.items,\n      _params$itemComparer = params.itemComparer,\n      itemComparer = _params$itemComparer === void 0 ? defaultItemComparer : _params$itemComparer,\n      _params$getItemAsStri = params.getItemAsString,\n      getItemAsString = _params$getItemAsStri === void 0 ? defaultItemStringifier : _params$getItemAsStri,\n      onChange = params.onChange,\n      onHighlightChange = params.onHighlightChange,\n      _params$orientation = params.orientation,\n      orientation = _params$orientation === void 0 ? 'vertical' : _params$orientation,\n      _params$pageSize = params.pageSize,\n      pageSize = _params$pageSize === void 0 ? 5 : _params$pageSize,\n      _params$reducerAction = params.reducerActionContext,\n      reducerActionContext = _params$reducerAction === void 0 ? EMPTY_OBJECT : _params$reducerAction,\n      _params$selectionMode = params.selectionMode,\n      selectionMode = _params$selectionMode === void 0 ? 'single' : _params$selectionMode,\n      externalReducer = params.stateReducer;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (focusManagement === 'DOM' && getItemDomElement == null) {\n      throw new Error('useList: The `getItemDomElement` prop is required when using the `DOM` focus management.');\n    }\n\n    if (focusManagement === 'activeDescendant' && getItemId == null) {\n      throw new Error('useList: The `getItemId` prop is required when using the `activeDescendant` focus management.');\n    }\n  }\n\n  var listRef = React.useRef(null);\n  var handleRef = useForkRef(externalListRef, listRef);\n  var handleHighlightChange = React.useCallback(function (event, value, reason) {\n    onHighlightChange == null ? void 0 : onHighlightChange(event, value, reason);\n\n    if (focusManagement === 'DOM' && value != null && (reason === ListActionTypes.itemClick || reason === ListActionTypes.keyDown || reason === ListActionTypes.textNavigation)) {\n      var _getItemDomElement;\n\n      getItemDomElement == null ? void 0 : (_getItemDomElement = getItemDomElement(value)) == null ? void 0 : _getItemDomElement.focus();\n    }\n  }, [getItemDomElement, onHighlightChange, focusManagement]);\n  var stateComparers = React.useMemo(function () {\n    return {\n      highlightedValue: itemComparer,\n      selectedValues: function selectedValues(valuesArray1, valuesArray2) {\n        return areArraysEqual(valuesArray1, valuesArray2, itemComparer);\n      }\n    };\n  }, [itemComparer]); // This gets called whenever a reducer changes the state.\n\n  var handleStateChange = React.useCallback(function (event, field, value, reason, state) {\n    onStateChange == null ? void 0 : onStateChange(event, field, value, reason, state);\n\n    switch (field) {\n      case 'highlightedValue':\n        handleHighlightChange(event, value, reason);\n        break;\n\n      case 'selectedValues':\n        onChange == null ? void 0 : onChange(event, value, reason);\n        break;\n\n      default:\n        break;\n    }\n  }, [handleHighlightChange, onChange, onStateChange]); // The following object is added to each action when it's dispatched.\n  // It's accessible in the reducer via the `action.context` field.\n\n  var listActionContext = React.useMemo(function () {\n    return {\n      disabledItemsFocusable: disabledItemsFocusable,\n      disableListWrap: disableListWrap,\n      focusManagement: focusManagement,\n      isItemDisabled: isItemDisabled,\n      itemComparer: itemComparer,\n      items: items,\n      getItemAsString: getItemAsString,\n      onHighlightChange: handleHighlightChange,\n      orientation: orientation,\n      pageSize: pageSize,\n      selectionMode: selectionMode,\n      stateComparers: stateComparers\n    };\n  }, [disabledItemsFocusable, disableListWrap, focusManagement, isItemDisabled, itemComparer, items, getItemAsString, handleHighlightChange, orientation, pageSize, selectionMode, stateComparers]);\n  var initialState = getInitialState();\n  var reducer = externalReducer != null ? externalReducer : defaultReducer;\n  var actionContext = React.useMemo(function () {\n    return _objectSpread(_objectSpread({}, reducerActionContext), listActionContext);\n  }, [reducerActionContext, listActionContext]);\n\n  var _useControllableReduc = useControllableReducer({\n    reducer: reducer,\n    actionContext: actionContext,\n    initialState: initialState,\n    controlledProps: controlledProps,\n    stateComparers: stateComparers,\n    onStateChange: handleStateChange\n  }),\n      _useControllableReduc2 = _slicedToArray(_useControllableReduc, 2),\n      state = _useControllableReduc2[0],\n      dispatch = _useControllableReduc2[1];\n\n  var highlightedValue = state.highlightedValue,\n      selectedValues = state.selectedValues;\n  var handleTextNavigation = useTextNavigation(function (searchString, event) {\n    return dispatch({\n      type: ListActionTypes.textNavigation,\n      event: event,\n      searchString: searchString\n    });\n  }); // introducing refs to avoid recreating the getItemState function on each change.\n\n  var latestSelectedValues = useLatest(selectedValues);\n  var latestHighlightedValue = useLatest(highlightedValue);\n  var previousItems = React.useRef([]);\n  React.useEffect(function () {\n    // Whenever the `items` object changes, we need to determine if the actual items changed.\n    // If they did, we need to dispatch an `itemsChange` action, so the selected/highlighted state is updated.\n    if (areArraysEqual(previousItems.current, items, itemComparer)) {\n      return;\n    }\n\n    dispatch({\n      type: ListActionTypes.itemsChange,\n      event: null,\n      items: items,\n      previousItems: previousItems.current\n    });\n    previousItems.current = items;\n  }, [items, itemComparer, dispatch]); // Subitems are notified of changes to the highlighted and selected values.\n  // This is not done via context because we don't want to trigger a re-render of all the subitems each time any of them changes state.\n  // Instead, we use a custom message bus to publish messages about changes.\n  // On the child component, we use a custom hook to subscribe to these messages and re-render only when the value they care about changes.\n\n  var _useListChangeNotifie = useListChangeNotifiers(),\n      notifySelectionChanged = _useListChangeNotifie.notifySelectionChanged,\n      notifyHighlightChanged = _useListChangeNotifie.notifyHighlightChanged,\n      registerHighlightChangeHandler = _useListChangeNotifie.registerHighlightChangeHandler,\n      registerSelectionChangeHandler = _useListChangeNotifie.registerSelectionChangeHandler;\n\n  React.useEffect(function () {\n    notifySelectionChanged(selectedValues);\n  }, [selectedValues, notifySelectionChanged]);\n  React.useEffect(function () {\n    notifyHighlightChanged(highlightedValue);\n  }, [highlightedValue, notifyHighlightChanged]);\n\n  var createHandleKeyDown = function createHandleKeyDown(other) {\n    return function (event) {\n      var _other$onKeyDown;\n\n      (_other$onKeyDown = other.onKeyDown) == null ? void 0 : _other$onKeyDown.call(other, event);\n\n      if (event.defaultMuiPrevented) {\n        return;\n      }\n\n      var keysToPreventDefault = ['Home', 'End', 'PageUp', 'PageDown'];\n\n      if (orientation === 'vertical') {\n        keysToPreventDefault.push('ArrowUp', 'ArrowDown');\n      } else {\n        keysToPreventDefault.push('ArrowLeft', 'ArrowRight');\n      }\n\n      if (focusManagement === 'activeDescendant') {\n        // When the child element is focused using the activeDescendant attribute,\n        // the list handles keyboard events on its behalf.\n        // We have to `preventDefault()` is this case to prevent the browser from\n        // scrolling the view when space is pressed or submitting forms when enter is pressed.\n        keysToPreventDefault.push(' ', 'Enter');\n      }\n\n      if (keysToPreventDefault.includes(event.key)) {\n        event.preventDefault();\n      }\n\n      dispatch({\n        type: ListActionTypes.keyDown,\n        key: event.key,\n        event: event\n      });\n      handleTextNavigation(event);\n    };\n  };\n\n  var createHandleBlur = function createHandleBlur(other) {\n    return function (event) {\n      var _other$onBlur, _listRef$current;\n\n      (_other$onBlur = other.onBlur) == null ? void 0 : _other$onBlur.call(other, event);\n\n      if (event.defaultMuiPrevented) {\n        return;\n      }\n\n      if ((_listRef$current = listRef.current) != null && _listRef$current.contains(event.relatedTarget)) {\n        // focus remains within the list\n        return;\n      }\n\n      dispatch({\n        type: ListActionTypes.blur,\n        event: event\n      });\n    };\n  };\n\n  var getRootProps = function getRootProps() {\n    var otherHandlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return _objectSpread(_objectSpread({}, otherHandlers), {}, {\n      'aria-activedescendant': focusManagement === 'activeDescendant' && highlightedValue != null ? getItemId(highlightedValue) : undefined,\n      onBlur: createHandleBlur(otherHandlers),\n      onKeyDown: createHandleKeyDown(otherHandlers),\n      tabIndex: focusManagement === 'DOM' ? -1 : 0,\n      ref: handleRef\n    });\n  };\n\n  var getItemState = React.useCallback(function (item) {\n    var _latestSelectedValues;\n\n    var index = items.findIndex(function (i) {\n      return itemComparer(i, item);\n    });\n    var selected = ((_latestSelectedValues = latestSelectedValues.current) != null ? _latestSelectedValues : []).some(function (value) {\n      return value != null && itemComparer(item, value);\n    });\n    var disabled = isItemDisabled(item, index);\n    var highlighted = latestHighlightedValue.current != null && itemComparer(item, latestHighlightedValue.current);\n    var focusable = focusManagement === 'DOM';\n    return {\n      disabled: disabled,\n      focusable: focusable,\n      highlighted: highlighted,\n      index: index,\n      selected: selected\n    };\n  }, [items, isItemDisabled, itemComparer, latestSelectedValues, latestHighlightedValue, focusManagement]);\n  var contextValue = React.useMemo(function () {\n    return {\n      dispatch: dispatch,\n      getItemState: getItemState,\n      registerHighlightChangeHandler: registerHighlightChangeHandler,\n      registerSelectionChangeHandler: registerSelectionChangeHandler\n    };\n  }, [dispatch, getItemState, registerHighlightChangeHandler, registerSelectionChangeHandler]);\n  React.useDebugValue({\n    state: state\n  });\n  return {\n    contextValue: contextValue,\n    dispatch: dispatch,\n    getRootProps: getRootProps,\n    rootRef: handleRef,\n    state: state\n  };\n}\n\nexport default useList;","map":{"version":3,"sources":["/Users/saikatsingha/Projects /My protfolio/saikat_protfolio-1/node_modules/@mui/base/useList/useList.js"],"names":["React","unstable_useForkRef","useForkRef","ListActionTypes","defaultReducer","useListChangeNotifiers","useControllableReducer","areArraysEqual","useLatest","useTextNavigation","EMPTY_OBJECT","NOOP","defaultItemComparer","optionA","optionB","defaultIsItemDisabled","defaultItemStringifier","item","String","defaultGetInitialState","highlightedValue","selectedValues","useList","params","controlledProps","disabledItemsFocusable","disableListWrap","focusManagement","getInitialState","getItemDomElement","getItemId","isItemDisabled","externalListRef","rootRef","onStateChange","items","itemComparer","getItemAsString","onChange","onHighlightChange","orientation","pageSize","reducerActionContext","selectionMode","externalReducer","stateReducer","process","env","NODE_ENV","Error","listRef","useRef","handleRef","handleHighlightChange","useCallback","event","value","reason","itemClick","keyDown","textNavigation","_getItemDomElement","focus","stateComparers","useMemo","valuesArray1","valuesArray2","handleStateChange","field","state","listActionContext","initialState","reducer","actionContext","dispatch","handleTextNavigation","searchString","type","latestSelectedValues","latestHighlightedValue","previousItems","useEffect","current","itemsChange","notifySelectionChanged","notifyHighlightChanged","registerHighlightChangeHandler","registerSelectionChangeHandler","createHandleKeyDown","other","_other$onKeyDown","onKeyDown","call","defaultMuiPrevented","keysToPreventDefault","push","includes","key","preventDefault","createHandleBlur","_other$onBlur","_listRef$current","onBlur","contains","relatedTarget","blur","getRootProps","otherHandlers","undefined","tabIndex","ref","getItemState","_latestSelectedValues","index","findIndex","i","selected","some","disabled","highlighted","focusable","contextValue","useDebugValue"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,mBAAmB,IAAIC,UAAhC,QAAkD,YAAlD;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA,OAAOC,cAAP,MAA2B,eAA3B;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,OAAOC,sBAAP,MAAmC,iCAAnC;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,iBAAP,MAA8B,4BAA9B;AACA,IAAMC,YAAY,GAAG,EAArB;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM,CAAE,CAArB;;AACA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,OAAD,EAAUC,OAAV;AAAA,SAAsBD,OAAO,KAAKC,OAAlC;AAAA,CAA5B;;AACA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,SAAM,KAAN;AAAA,CAA9B;;AACA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAC,IAAI;AAAA,SAAI,OAAOA,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCC,MAAM,CAACD,IAAD,CAA5C;AAAA,CAAnC;;AACA,IAAME,sBAAsB,GAAG,SAAzBA,sBAAyB;AAAA,SAAO;AACpCC,IAAAA,gBAAgB,EAAE,IADkB;AAEpCC,IAAAA,cAAc,EAAE;AAFoB,GAAP;AAAA,CAA/B;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,OAAT,CAAiBC,MAAjB,EAAyB;AACvB,8BAqBIA,MArBJ,CACEC,eADF;AAAA,MACEA,eADF,sCACoBd,YADpB;AAAA,8BAqBIa,MArBJ,CAEEE,sBAFF;AAAA,MAEEA,sBAFF,sCAE2B,KAF3B;AAAA,8BAqBIF,MArBJ,CAGEG,eAHF;AAAA,MAGEA,eAHF,sCAGoB,KAHpB;AAAA,8BAqBIH,MArBJ,CAIEI,eAJF;AAAA,MAIEA,eAJF,sCAIoB,kBAJpB;AAAA,8BAqBIJ,MArBJ,CAKEK,eALF;AAAA,MAKEA,eALF,sCAKoBT,sBALpB;AAAA,MAMEU,iBANF,GAqBIN,MArBJ,CAMEM,iBANF;AAAA,MAOEC,SAPF,GAqBIP,MArBJ,CAOEO,SAPF;AAAA,8BAqBIP,MArBJ,CAQEQ,cARF;AAAA,MAQEA,cARF,sCAQmBhB,qBARnB;AAAA,MASWiB,eATX,GAqBIT,MArBJ,CASEU,OATF;AAAA,8BAqBIV,MArBJ,CAUEW,aAVF;AAAA,MAUEA,aAVF,sCAUkBvB,IAVlB;AAAA,MAWEwB,KAXF,GAqBIZ,MArBJ,CAWEY,KAXF;AAAA,6BAqBIZ,MArBJ,CAYEa,YAZF;AAAA,MAYEA,YAZF,qCAYiBxB,mBAZjB;AAAA,8BAqBIW,MArBJ,CAaEc,eAbF;AAAA,MAaEA,eAbF,sCAaoBrB,sBAbpB;AAAA,MAcEsB,QAdF,GAqBIf,MArBJ,CAcEe,QAdF;AAAA,MAeEC,iBAfF,GAqBIhB,MArBJ,CAeEgB,iBAfF;AAAA,4BAqBIhB,MArBJ,CAgBEiB,WAhBF;AAAA,MAgBEA,WAhBF,oCAgBgB,UAhBhB;AAAA,yBAqBIjB,MArBJ,CAiBEkB,QAjBF;AAAA,MAiBEA,QAjBF,iCAiBa,CAjBb;AAAA,8BAqBIlB,MArBJ,CAkBEmB,oBAlBF;AAAA,MAkBEA,oBAlBF,sCAkByBhC,YAlBzB;AAAA,8BAqBIa,MArBJ,CAmBEoB,aAnBF;AAAA,MAmBEA,aAnBF,sCAmBkB,QAnBlB;AAAA,MAoBgBC,eApBhB,GAqBIrB,MArBJ,CAoBEsB,YApBF;;AAsBA,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAIrB,eAAe,KAAK,KAApB,IAA6BE,iBAAiB,IAAI,IAAtD,EAA4D;AAC1D,YAAM,IAAIoB,KAAJ,CAAU,0FAAV,CAAN;AACD;;AACD,QAAItB,eAAe,KAAK,kBAApB,IAA0CG,SAAS,IAAI,IAA3D,EAAiE;AAC/D,YAAM,IAAImB,KAAJ,CAAU,+FAAV,CAAN;AACD;AACF;;AACD,MAAMC,OAAO,GAAGlD,KAAK,CAACmD,MAAN,CAAa,IAAb,CAAhB;AACA,MAAMC,SAAS,GAAGlD,UAAU,CAAC8B,eAAD,EAAkBkB,OAAlB,CAA5B;AACA,MAAMG,qBAAqB,GAAGrD,KAAK,CAACsD,WAAN,CAAkB,UAACC,KAAD,EAAQC,KAAR,EAAeC,MAAf,EAA0B;AACxElB,IAAAA,iBAAiB,IAAI,IAArB,GAA4B,KAAK,CAAjC,GAAqCA,iBAAiB,CAACgB,KAAD,EAAQC,KAAR,EAAeC,MAAf,CAAtD;;AACA,QAAI9B,eAAe,KAAK,KAApB,IAA6B6B,KAAK,IAAI,IAAtC,KAA+CC,MAAM,KAAKtD,eAAe,CAACuD,SAA3B,IAAwCD,MAAM,KAAKtD,eAAe,CAACwD,OAAnE,IAA8EF,MAAM,KAAKtD,eAAe,CAACyD,cAAxJ,CAAJ,EAA6K;AAC3K,UAAIC,kBAAJ;;AACAhC,MAAAA,iBAAiB,IAAI,IAArB,GAA4B,KAAK,CAAjC,GAAqC,CAACgC,kBAAkB,GAAGhC,iBAAiB,CAAC2B,KAAD,CAAvC,KAAmD,IAAnD,GAA0D,KAAK,CAA/D,GAAmEK,kBAAkB,CAACC,KAAnB,EAAxG;AACD;AACF,GAN6B,EAM3B,CAACjC,iBAAD,EAAoBU,iBAApB,EAAuCZ,eAAvC,CAN2B,CAA9B;AAOA,MAAMoC,cAAc,GAAG/D,KAAK,CAACgE,OAAN,CAAc;AAAA,WAAO;AAC1C5C,MAAAA,gBAAgB,EAAEgB,YADwB;AAE1Cf,MAAAA,cAAc,EAAE,wBAAC4C,YAAD,EAAeC,YAAf;AAAA,eAAgC3D,cAAc,CAAC0D,YAAD,EAAeC,YAAf,EAA6B9B,YAA7B,CAA9C;AAAA;AAF0B,KAAP;AAAA,GAAd,EAGnB,CAACA,YAAD,CAHmB,CAAvB,CAxCuB,CA6CvB;;AACA,MAAM+B,iBAAiB,GAAGnE,KAAK,CAACsD,WAAN,CAAkB,UAACC,KAAD,EAAQa,KAAR,EAAeZ,KAAf,EAAsBC,MAAtB,EAA8BY,KAA9B,EAAwC;AAClFnC,IAAAA,aAAa,IAAI,IAAjB,GAAwB,KAAK,CAA7B,GAAiCA,aAAa,CAACqB,KAAD,EAAQa,KAAR,EAAeZ,KAAf,EAAsBC,MAAtB,EAA8BY,KAA9B,CAA9C;;AACA,YAAQD,KAAR;AACE,WAAK,kBAAL;AACEf,QAAAA,qBAAqB,CAACE,KAAD,EAAQC,KAAR,EAAeC,MAAf,CAArB;AACA;;AACF,WAAK,gBAAL;AACEnB,QAAAA,QAAQ,IAAI,IAAZ,GAAmB,KAAK,CAAxB,GAA4BA,QAAQ,CAACiB,KAAD,EAAQC,KAAR,EAAeC,MAAf,CAApC;AACA;;AACF;AACE;AARJ;AAUD,GAZyB,EAYvB,CAACJ,qBAAD,EAAwBf,QAAxB,EAAkCJ,aAAlC,CAZuB,CAA1B,CA9CuB,CA4DvB;AACA;;AACA,MAAMoC,iBAAiB,GAAGtE,KAAK,CAACgE,OAAN,CAAc,YAAM;AAC5C,WAAO;AACLvC,MAAAA,sBAAsB,EAAtBA,sBADK;AAELC,MAAAA,eAAe,EAAfA,eAFK;AAGLC,MAAAA,eAAe,EAAfA,eAHK;AAILI,MAAAA,cAAc,EAAdA,cAJK;AAKLK,MAAAA,YAAY,EAAZA,YALK;AAMLD,MAAAA,KAAK,EAALA,KANK;AAOLE,MAAAA,eAAe,EAAfA,eAPK;AAQLE,MAAAA,iBAAiB,EAAEc,qBARd;AASLb,MAAAA,WAAW,EAAXA,WATK;AAULC,MAAAA,QAAQ,EAARA,QAVK;AAWLE,MAAAA,aAAa,EAAbA,aAXK;AAYLoB,MAAAA,cAAc,EAAdA;AAZK,KAAP;AAcD,GAfyB,EAevB,CAACtC,sBAAD,EAAyBC,eAAzB,EAA0CC,eAA1C,EAA2DI,cAA3D,EAA2EK,YAA3E,EAAyFD,KAAzF,EAAgGE,eAAhG,EAAiHgB,qBAAjH,EAAwIb,WAAxI,EAAqJC,QAArJ,EAA+JE,aAA/J,EAA8KoB,cAA9K,CAfuB,CAA1B;AAgBA,MAAMQ,YAAY,GAAG3C,eAAe,EAApC;AACA,MAAM4C,OAAO,GAAG5B,eAAe,IAAI,IAAnB,GAA0BA,eAA1B,GAA4CxC,cAA5D;AACA,MAAMqE,aAAa,GAAGzE,KAAK,CAACgE,OAAN,CAAc;AAAA,2CAC/BtB,oBAD+B,GAE/B4B,iBAF+B;AAAA,GAAd,EAGlB,CAAC5B,oBAAD,EAAuB4B,iBAAvB,CAHkB,CAAtB;;AAIA,8BAA0BhE,sBAAsB,CAAC;AAC/CkE,IAAAA,OAAO,EAAPA,OAD+C;AAE/CC,IAAAA,aAAa,EAAbA,aAF+C;AAG/CF,IAAAA,YAAY,EAAEA,YAHiC;AAI/C/C,IAAAA,eAAe,EAAfA,eAJ+C;AAK/CuC,IAAAA,cAAc,EAAdA,cAL+C;AAM/C7B,IAAAA,aAAa,EAAEiC;AANgC,GAAD,CAAhD;AAAA;AAAA,MAAOE,KAAP;AAAA,MAAcK,QAAd;;AAQA,MACEtD,gBADF,GAGIiD,KAHJ,CACEjD,gBADF;AAAA,MAEEC,cAFF,GAGIgD,KAHJ,CAEEhD,cAFF;AAIA,MAAMsD,oBAAoB,GAAGlE,iBAAiB,CAAC,UAACmE,YAAD,EAAerB,KAAf;AAAA,WAAyBmB,QAAQ,CAAC;AAC/EG,MAAAA,IAAI,EAAE1E,eAAe,CAACyD,cADyD;AAE/EL,MAAAA,KAAK,EAALA,KAF+E;AAG/EqB,MAAAA,YAAY,EAAZA;AAH+E,KAAD,CAAjC;AAAA,GAAD,CAA9C,CAhGuB,CAsGvB;;AACA,MAAME,oBAAoB,GAAGtE,SAAS,CAACa,cAAD,CAAtC;AACA,MAAM0D,sBAAsB,GAAGvE,SAAS,CAACY,gBAAD,CAAxC;AACA,MAAM4D,aAAa,GAAGhF,KAAK,CAACmD,MAAN,CAAa,EAAb,CAAtB;AACAnD,EAAAA,KAAK,CAACiF,SAAN,CAAgB,YAAM;AACpB;AACA;AACA,QAAI1E,cAAc,CAACyE,aAAa,CAACE,OAAf,EAAwB/C,KAAxB,EAA+BC,YAA/B,CAAlB,EAAgE;AAC9D;AACD;;AACDsC,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAE1E,eAAe,CAACgF,WADf;AAEP5B,MAAAA,KAAK,EAAE,IAFA;AAGPpB,MAAAA,KAAK,EAALA,KAHO;AAIP6C,MAAAA,aAAa,EAAEA,aAAa,CAACE;AAJtB,KAAD,CAAR;AAMAF,IAAAA,aAAa,CAACE,OAAd,GAAwB/C,KAAxB;AACD,GAbD,EAaG,CAACA,KAAD,EAAQC,YAAR,EAAsBsC,QAAtB,CAbH,EA1GuB,CAyHvB;AACA;AACA;AACA;;AACA,8BAKIrE,sBAAsB,EAL1B;AAAA,MACE+E,sBADF,yBACEA,sBADF;AAAA,MAEEC,sBAFF,yBAEEA,sBAFF;AAAA,MAGEC,8BAHF,yBAGEA,8BAHF;AAAA,MAIEC,8BAJF,yBAIEA,8BAJF;;AAMAvF,EAAAA,KAAK,CAACiF,SAAN,CAAgB,YAAM;AACpBG,IAAAA,sBAAsB,CAAC/D,cAAD,CAAtB;AACD,GAFD,EAEG,CAACA,cAAD,EAAiB+D,sBAAjB,CAFH;AAGApF,EAAAA,KAAK,CAACiF,SAAN,CAAgB,YAAM;AACpBI,IAAAA,sBAAsB,CAACjE,gBAAD,CAAtB;AACD,GAFD,EAEG,CAACA,gBAAD,EAAmBiE,sBAAnB,CAFH;;AAGA,MAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAC,KAAK;AAAA,WAAI,UAAAlC,KAAK,EAAI;AAC5C,UAAImC,gBAAJ;;AACA,OAACA,gBAAgB,GAAGD,KAAK,CAACE,SAA1B,KAAwC,IAAxC,GAA+C,KAAK,CAApD,GAAwDD,gBAAgB,CAACE,IAAjB,CAAsBH,KAAtB,EAA6BlC,KAA7B,CAAxD;;AACA,UAAIA,KAAK,CAACsC,mBAAV,EAA+B;AAC7B;AACD;;AACD,UAAMC,oBAAoB,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,QAAhB,EAA0B,UAA1B,CAA7B;;AACA,UAAItD,WAAW,KAAK,UAApB,EAAgC;AAC9BsD,QAAAA,oBAAoB,CAACC,IAArB,CAA0B,SAA1B,EAAqC,WAArC;AACD,OAFD,MAEO;AACLD,QAAAA,oBAAoB,CAACC,IAArB,CAA0B,WAA1B,EAAuC,YAAvC;AACD;;AACD,UAAIpE,eAAe,KAAK,kBAAxB,EAA4C;AAC1C;AACA;AACA;AACA;AACAmE,QAAAA,oBAAoB,CAACC,IAArB,CAA0B,GAA1B,EAA+B,OAA/B;AACD;;AACD,UAAID,oBAAoB,CAACE,QAArB,CAA8BzC,KAAK,CAAC0C,GAApC,CAAJ,EAA8C;AAC5C1C,QAAAA,KAAK,CAAC2C,cAAN;AACD;;AACDxB,MAAAA,QAAQ,CAAC;AACPG,QAAAA,IAAI,EAAE1E,eAAe,CAACwD,OADf;AAEPsC,QAAAA,GAAG,EAAE1C,KAAK,CAAC0C,GAFJ;AAGP1C,QAAAA,KAAK,EAALA;AAHO,OAAD,CAAR;AAKAoB,MAAAA,oBAAoB,CAACpB,KAAD,CAApB;AACD,KA5BgC;AAAA,GAAjC;;AA6BA,MAAM4C,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAV,KAAK;AAAA,WAAI,UAAAlC,KAAK,EAAI;AACzC,UAAI6C,aAAJ,EAAmBC,gBAAnB;;AACA,OAACD,aAAa,GAAGX,KAAK,CAACa,MAAvB,KAAkC,IAAlC,GAAyC,KAAK,CAA9C,GAAkDF,aAAa,CAACR,IAAd,CAAmBH,KAAnB,EAA0BlC,KAA1B,CAAlD;;AACA,UAAIA,KAAK,CAACsC,mBAAV,EAA+B;AAC7B;AACD;;AACD,UAAI,CAACQ,gBAAgB,GAAGnD,OAAO,CAACgC,OAA5B,KAAwC,IAAxC,IAAgDmB,gBAAgB,CAACE,QAAjB,CAA0BhD,KAAK,CAACiD,aAAhC,CAApD,EAAoG;AAClG;AACA;AACD;;AACD9B,MAAAA,QAAQ,CAAC;AACPG,QAAAA,IAAI,EAAE1E,eAAe,CAACsG,IADf;AAEPlD,QAAAA,KAAK,EAALA;AAFO,OAAD,CAAR;AAID,KAd6B;AAAA,GAA9B;;AAeA,MAAMmD,YAAY,GAAG,SAAfA,YAAe,GAAwB;AAAA,QAAvBC,aAAuB,uEAAP,EAAO;AAC3C,2CACKA,aADL;AAEE,+BAAyBhF,eAAe,KAAK,kBAApB,IAA0CP,gBAAgB,IAAI,IAA9D,GAAqEU,SAAS,CAACV,gBAAD,CAA9E,GAAmGwF,SAF9H;AAGEN,MAAAA,MAAM,EAAEH,gBAAgB,CAACQ,aAAD,CAH1B;AAIEhB,MAAAA,SAAS,EAAEH,mBAAmB,CAACmB,aAAD,CAJhC;AAKEE,MAAAA,QAAQ,EAAElF,eAAe,KAAK,KAApB,GAA4B,CAAC,CAA7B,GAAiC,CAL7C;AAMEmF,MAAAA,GAAG,EAAE1D;AANP;AAQD,GATD;;AAUA,MAAM2D,YAAY,GAAG/G,KAAK,CAACsD,WAAN,CAAkB,UAAArC,IAAI,EAAI;AAC7C,QAAI+F,qBAAJ;;AACA,QAAMC,KAAK,GAAG9E,KAAK,CAAC+E,SAAN,CAAgB,UAAAC,CAAC;AAAA,aAAI/E,YAAY,CAAC+E,CAAD,EAAIlG,IAAJ,CAAhB;AAAA,KAAjB,CAAd;AACA,QAAMmG,QAAQ,GAAG,CAAC,CAACJ,qBAAqB,GAAGlC,oBAAoB,CAACI,OAA9C,KAA0D,IAA1D,GAAiE8B,qBAAjE,GAAyF,EAA1F,EAA8FK,IAA9F,CAAmG,UAAA7D,KAAK;AAAA,aAAIA,KAAK,IAAI,IAAT,IAAiBpB,YAAY,CAACnB,IAAD,EAAOuC,KAAP,CAAjC;AAAA,KAAxG,CAAjB;AACA,QAAM8D,QAAQ,GAAGvF,cAAc,CAACd,IAAD,EAAOgG,KAAP,CAA/B;AACA,QAAMM,WAAW,GAAGxC,sBAAsB,CAACG,OAAvB,IAAkC,IAAlC,IAA0C9C,YAAY,CAACnB,IAAD,EAAO8D,sBAAsB,CAACG,OAA9B,CAA1E;AACA,QAAMsC,SAAS,GAAG7F,eAAe,KAAK,KAAtC;AACA,WAAO;AACL2F,MAAAA,QAAQ,EAARA,QADK;AAELE,MAAAA,SAAS,EAATA,SAFK;AAGLD,MAAAA,WAAW,EAAXA,WAHK;AAILN,MAAAA,KAAK,EAALA,KAJK;AAKLG,MAAAA,QAAQ,EAARA;AALK,KAAP;AAOD,GAdoB,EAclB,CAACjF,KAAD,EAAQJ,cAAR,EAAwBK,YAAxB,EAAsC0C,oBAAtC,EAA4DC,sBAA5D,EAAoFpD,eAApF,CAdkB,CAArB;AAeA,MAAM8F,YAAY,GAAGzH,KAAK,CAACgE,OAAN,CAAc;AAAA,WAAO;AACxCU,MAAAA,QAAQ,EAARA,QADwC;AAExCqC,MAAAA,YAAY,EAAZA,YAFwC;AAGxCzB,MAAAA,8BAA8B,EAA9BA,8BAHwC;AAIxCC,MAAAA,8BAA8B,EAA9BA;AAJwC,KAAP;AAAA,GAAd,EAKjB,CAACb,QAAD,EAAWqC,YAAX,EAAyBzB,8BAAzB,EAAyDC,8BAAzD,CALiB,CAArB;AAMAvF,EAAAA,KAAK,CAAC0H,aAAN,CAAoB;AAClBrD,IAAAA,KAAK,EAALA;AADkB,GAApB;AAGA,SAAO;AACLoD,IAAAA,YAAY,EAAZA,YADK;AAEL/C,IAAAA,QAAQ,EAARA,QAFK;AAGLgC,IAAAA,YAAY,EAAZA,YAHK;AAILzE,IAAAA,OAAO,EAAEmB,SAJJ;AAKLiB,IAAAA,KAAK,EAALA;AALK,GAAP;AAOD;;AACD,eAAe/C,OAAf","sourcesContent":["import * as React from 'react';\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { ListActionTypes } from './listActions.types';\nimport defaultReducer from './listReducer';\nimport useListChangeNotifiers from './useListChangeNotifiers';\nimport useControllableReducer from '../utils/useControllableReducer';\nimport areArraysEqual from '../utils/areArraysEqual';\nimport useLatest from '../utils/useLatest';\nimport useTextNavigation from '../utils/useTextNavigation';\nconst EMPTY_OBJECT = {};\nconst NOOP = () => {};\nconst defaultItemComparer = (optionA, optionB) => optionA === optionB;\nconst defaultIsItemDisabled = () => false;\nconst defaultItemStringifier = item => typeof item === 'string' ? item : String(item);\nconst defaultGetInitialState = () => ({\n  highlightedValue: null,\n  selectedValues: []\n});\n\n/**\n * The useList is a lower-level utility that is used to build list-like components.\n * It's used to manage the state of the list and its items.\n *\n * Supports highlighting a single item and selecting an arbitrary number of items.\n *\n * The state of the list is managed by a controllable reducer - that is a reducer that can have its state\n * controlled from outside.\n *\n * By default, the state consists of `selectedValues` and `highlightedValue` but can be extended by the caller of the hook.\n * Also the actions that can be dispatched and the reducer function can be defined externally.\n *\n * @template ItemValue The type of the item values.\n * @template State The type of the list state. This should be a subtype of `ListState<ItemValue>`.\n * @template CustomAction The type of the actions that can be dispatched (besides the standard ListAction).\n * @template CustomActionContext The shape of additional properties that will be added to actions when dispatched.\n *\n * @ignore - internal hook.\n */\nfunction useList(params) {\n  const {\n    controlledProps = EMPTY_OBJECT,\n    disabledItemsFocusable = false,\n    disableListWrap = false,\n    focusManagement = 'activeDescendant',\n    getInitialState = defaultGetInitialState,\n    getItemDomElement,\n    getItemId,\n    isItemDisabled = defaultIsItemDisabled,\n    rootRef: externalListRef,\n    onStateChange = NOOP,\n    items,\n    itemComparer = defaultItemComparer,\n    getItemAsString = defaultItemStringifier,\n    onChange,\n    onHighlightChange,\n    orientation = 'vertical',\n    pageSize = 5,\n    reducerActionContext = EMPTY_OBJECT,\n    selectionMode = 'single',\n    stateReducer: externalReducer\n  } = params;\n  if (process.env.NODE_ENV !== 'production') {\n    if (focusManagement === 'DOM' && getItemDomElement == null) {\n      throw new Error('useList: The `getItemDomElement` prop is required when using the `DOM` focus management.');\n    }\n    if (focusManagement === 'activeDescendant' && getItemId == null) {\n      throw new Error('useList: The `getItemId` prop is required when using the `activeDescendant` focus management.');\n    }\n  }\n  const listRef = React.useRef(null);\n  const handleRef = useForkRef(externalListRef, listRef);\n  const handleHighlightChange = React.useCallback((event, value, reason) => {\n    onHighlightChange == null ? void 0 : onHighlightChange(event, value, reason);\n    if (focusManagement === 'DOM' && value != null && (reason === ListActionTypes.itemClick || reason === ListActionTypes.keyDown || reason === ListActionTypes.textNavigation)) {\n      var _getItemDomElement;\n      getItemDomElement == null ? void 0 : (_getItemDomElement = getItemDomElement(value)) == null ? void 0 : _getItemDomElement.focus();\n    }\n  }, [getItemDomElement, onHighlightChange, focusManagement]);\n  const stateComparers = React.useMemo(() => ({\n    highlightedValue: itemComparer,\n    selectedValues: (valuesArray1, valuesArray2) => areArraysEqual(valuesArray1, valuesArray2, itemComparer)\n  }), [itemComparer]);\n\n  // This gets called whenever a reducer changes the state.\n  const handleStateChange = React.useCallback((event, field, value, reason, state) => {\n    onStateChange == null ? void 0 : onStateChange(event, field, value, reason, state);\n    switch (field) {\n      case 'highlightedValue':\n        handleHighlightChange(event, value, reason);\n        break;\n      case 'selectedValues':\n        onChange == null ? void 0 : onChange(event, value, reason);\n        break;\n      default:\n        break;\n    }\n  }, [handleHighlightChange, onChange, onStateChange]);\n\n  // The following object is added to each action when it's dispatched.\n  // It's accessible in the reducer via the `action.context` field.\n  const listActionContext = React.useMemo(() => {\n    return {\n      disabledItemsFocusable,\n      disableListWrap,\n      focusManagement,\n      isItemDisabled,\n      itemComparer,\n      items,\n      getItemAsString,\n      onHighlightChange: handleHighlightChange,\n      orientation,\n      pageSize,\n      selectionMode,\n      stateComparers\n    };\n  }, [disabledItemsFocusable, disableListWrap, focusManagement, isItemDisabled, itemComparer, items, getItemAsString, handleHighlightChange, orientation, pageSize, selectionMode, stateComparers]);\n  const initialState = getInitialState();\n  const reducer = externalReducer != null ? externalReducer : defaultReducer;\n  const actionContext = React.useMemo(() => ({\n    ...reducerActionContext,\n    ...listActionContext\n  }), [reducerActionContext, listActionContext]);\n  const [state, dispatch] = useControllableReducer({\n    reducer,\n    actionContext,\n    initialState: initialState,\n    controlledProps,\n    stateComparers,\n    onStateChange: handleStateChange\n  });\n  const {\n    highlightedValue,\n    selectedValues\n  } = state;\n  const handleTextNavigation = useTextNavigation((searchString, event) => dispatch({\n    type: ListActionTypes.textNavigation,\n    event,\n    searchString\n  }));\n\n  // introducing refs to avoid recreating the getItemState function on each change.\n  const latestSelectedValues = useLatest(selectedValues);\n  const latestHighlightedValue = useLatest(highlightedValue);\n  const previousItems = React.useRef([]);\n  React.useEffect(() => {\n    // Whenever the `items` object changes, we need to determine if the actual items changed.\n    // If they did, we need to dispatch an `itemsChange` action, so the selected/highlighted state is updated.\n    if (areArraysEqual(previousItems.current, items, itemComparer)) {\n      return;\n    }\n    dispatch({\n      type: ListActionTypes.itemsChange,\n      event: null,\n      items,\n      previousItems: previousItems.current\n    });\n    previousItems.current = items;\n  }, [items, itemComparer, dispatch]);\n\n  // Subitems are notified of changes to the highlighted and selected values.\n  // This is not done via context because we don't want to trigger a re-render of all the subitems each time any of them changes state.\n  // Instead, we use a custom message bus to publish messages about changes.\n  // On the child component, we use a custom hook to subscribe to these messages and re-render only when the value they care about changes.\n  const {\n    notifySelectionChanged,\n    notifyHighlightChanged,\n    registerHighlightChangeHandler,\n    registerSelectionChangeHandler\n  } = useListChangeNotifiers();\n  React.useEffect(() => {\n    notifySelectionChanged(selectedValues);\n  }, [selectedValues, notifySelectionChanged]);\n  React.useEffect(() => {\n    notifyHighlightChanged(highlightedValue);\n  }, [highlightedValue, notifyHighlightChanged]);\n  const createHandleKeyDown = other => event => {\n    var _other$onKeyDown;\n    (_other$onKeyDown = other.onKeyDown) == null ? void 0 : _other$onKeyDown.call(other, event);\n    if (event.defaultMuiPrevented) {\n      return;\n    }\n    const keysToPreventDefault = ['Home', 'End', 'PageUp', 'PageDown'];\n    if (orientation === 'vertical') {\n      keysToPreventDefault.push('ArrowUp', 'ArrowDown');\n    } else {\n      keysToPreventDefault.push('ArrowLeft', 'ArrowRight');\n    }\n    if (focusManagement === 'activeDescendant') {\n      // When the child element is focused using the activeDescendant attribute,\n      // the list handles keyboard events on its behalf.\n      // We have to `preventDefault()` is this case to prevent the browser from\n      // scrolling the view when space is pressed or submitting forms when enter is pressed.\n      keysToPreventDefault.push(' ', 'Enter');\n    }\n    if (keysToPreventDefault.includes(event.key)) {\n      event.preventDefault();\n    }\n    dispatch({\n      type: ListActionTypes.keyDown,\n      key: event.key,\n      event\n    });\n    handleTextNavigation(event);\n  };\n  const createHandleBlur = other => event => {\n    var _other$onBlur, _listRef$current;\n    (_other$onBlur = other.onBlur) == null ? void 0 : _other$onBlur.call(other, event);\n    if (event.defaultMuiPrevented) {\n      return;\n    }\n    if ((_listRef$current = listRef.current) != null && _listRef$current.contains(event.relatedTarget)) {\n      // focus remains within the list\n      return;\n    }\n    dispatch({\n      type: ListActionTypes.blur,\n      event\n    });\n  };\n  const getRootProps = (otherHandlers = {}) => {\n    return {\n      ...otherHandlers,\n      'aria-activedescendant': focusManagement === 'activeDescendant' && highlightedValue != null ? getItemId(highlightedValue) : undefined,\n      onBlur: createHandleBlur(otherHandlers),\n      onKeyDown: createHandleKeyDown(otherHandlers),\n      tabIndex: focusManagement === 'DOM' ? -1 : 0,\n      ref: handleRef\n    };\n  };\n  const getItemState = React.useCallback(item => {\n    var _latestSelectedValues;\n    const index = items.findIndex(i => itemComparer(i, item));\n    const selected = ((_latestSelectedValues = latestSelectedValues.current) != null ? _latestSelectedValues : []).some(value => value != null && itemComparer(item, value));\n    const disabled = isItemDisabled(item, index);\n    const highlighted = latestHighlightedValue.current != null && itemComparer(item, latestHighlightedValue.current);\n    const focusable = focusManagement === 'DOM';\n    return {\n      disabled,\n      focusable,\n      highlighted,\n      index,\n      selected\n    };\n  }, [items, isItemDisabled, itemComparer, latestSelectedValues, latestHighlightedValue, focusManagement]);\n  const contextValue = React.useMemo(() => ({\n    dispatch,\n    getItemState,\n    registerHighlightChangeHandler,\n    registerSelectionChangeHandler\n  }), [dispatch, getItemState, registerHighlightChangeHandler, registerSelectionChangeHandler]);\n  React.useDebugValue({\n    state\n  });\n  return {\n    contextValue,\n    dispatch,\n    getRootProps,\n    rootRef: handleRef,\n    state\n  };\n}\nexport default useList;"]},"metadata":{},"sourceType":"module"}